!function(a){a.simpleMagnifierCore=function(b,c){var d=0,e=0,f=a(b),g=0,h=0;f.append('<div class="large"></div>'),f.append('<div class="imgbox"></div>'),f.find(".imgbox").append('<img class="thumb" />');var i=f.find(".large"),j=f.find(".thumb");return{init:function(){i.css("background","url('"+c.url+"') no-repeat"),j.attr("src",c.url),a("<img/>").attr("src",c.url).load(function(){d=this.width,e=this.height,0!=f.width()&&f.width()<.99*document.body.clientWidth?(h=f.width(),g=h/d*e,f.height(g)):(h=.8*document.body.clientWidth,f.width(h),g=h/d*e,f.height(g)),f.css({margin:"50px auto",position:"relative",cursor:"none"}),i.css({display:"none",width:c.magnifierWidth,height:c.magnifierWidth,position:"absolute",borderRadius:"100%","-webkit-box-shadow":"0 0 0 7px"+c.magnifierColor+", 0 0 7px 7px rgba(0, 0, 0, 0.25), inset 0 0 40px 2px rgba(0, 0, 0, 0.25)","-moz-box-shadow":"0 0 0 7px"+c.magnifierColor+", 0 0 7px 7px rgba(0, 0, 0, 0.25), inset 0 0 40px 2px rgba(0, 0, 0, 0.25)",boxShadow:"0 0 0 7px"+c.magnifierColor+", 0 0 7px 7px rgba(0, 0, 0, 0.25), inset 0 0 40px 2px rgba(0, 0, 0, 0.25)"}),j.css({width:h,height:g,display:"block"}),f.find(".imgbox").css({display:"block",width:"100%",textAlign:"center"}),f.find(".imgbox").find("img").css({"-webkit-box-shadow":"1px 4px 9px -1px rgba(0, 0, 0, 0.65)","-moz-box-shadow":"1px 4px 9px -1px rgba(0, 0, 0, 0.65)",boxShadow:"1px 4px 9px -1px rgba(0, 0, 0, 0.65)"})})},move:function(a){var b=f.offset(),g=a.pageX-b.left,h=a.pageY-b.top;if(g<f.width()&&h<f.height()&&g>0&&h>0?i.fadeIn(c.duration):i.fadeOut(c.duration),i.is(":visible")){var k=Math.round(g/j.width()*d-i.width()/2)*-1,l=Math.round(h/j.height()*e-i.height()/2)*-1,m=k+"px "+l+"px",n=g-i.width()/2,o=h-i.height()/2;i.css({left:n,top:o,backgroundPosition:m})}}}},a.fn.simpleMagnifier=function(b){return this.each(function(){var c=a.extend({url:!1,duration:100,magnifierWidth:"150px",magnifierColor:"#fff"},b);if(0!=c.url){var d=a.simpleMagnifierCore(this,c);d.init(),a(this).on("mousemove",function(a){d.move(a)})}})}}(jQuery);