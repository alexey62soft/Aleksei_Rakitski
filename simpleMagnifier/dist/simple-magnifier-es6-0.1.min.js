(a=>{a.simpleMagnifierCore=((b,c)=>{let d=0,e=0;const f=a(b);let g=0,h=0;f.append('<div class="large"></div>'),f.append('<div class="imgbox"></div>'),f.find(".imgbox").append('<img class="thumb" />');const i=f.find(".large"),j=f.find(".thumb");return{init(){i.css("background",`url('${c.url}') no-repeat`),j.attr("src",c.url),a("<img/>").attr("src",c.url).load(function(){d=this.width,e=this.height,0!=f.width()&&f.width()<.99*document.body.clientWidth?(h=f.width(),g=h/d*e,f.height(g)):(h=.8*document.body.clientWidth,f.width(h),g=h/d*e,f.height(g)),f.css({margin:"50px auto",position:"relative",cursor:"none"}),i.css({display:"none",width:c.magnifierWidth,height:c.magnifierWidth,position:"absolute",borderRadius:"100%","-webkit-box-shadow":`0 0 0 7px${c.magnifierColor}, 0 0 7px 7px rgba(0, 0, 0, 0.25), inset 0 0 40px 2px rgba(0, 0, 0, 0.25)`,"-moz-box-shadow":`0 0 0 7px${c.magnifierColor}, 0 0 7px 7px rgba(0, 0, 0, 0.25), inset 0 0 40px 2px rgba(0, 0, 0, 0.25)`,boxShadow:`0 0 0 7px${c.magnifierColor}, 0 0 7px 7px rgba(0, 0, 0, 0.25), inset 0 0 40px 2px rgba(0, 0, 0, 0.25)`}),j.css({width:h,height:g,display:"block"}),f.find(".imgbox").css({display:"block",width:"100%",textAlign:"center"}),f.find(".imgbox").find("img").css({"-webkit-box-shadow":"1px 4px 9px -1px rgba(0, 0, 0, 0.65)","-moz-box-shadow":"1px 4px 9px -1px rgba(0, 0, 0, 0.65)",boxShadow:"1px 4px 9px -1px rgba(0, 0, 0, 0.65)"})})},move(a){const b=f.offset(),g=a.pageX-b.left,h=a.pageY-b.top;if(g<f.width()&&h<f.height()&&g>0&&h>0?i.fadeIn(c.duration):i.fadeOut(c.duration),i.is(":visible")){const a=Math.round(g/j.width()*d-i.width()/2)*-1,b=Math.round(h/j.height()*e-i.height()/2)*-1,c=`${a}px ${b}px`,f=g-i.width()/2,k=h-i.height()/2;i.css({left:f,top:k,backgroundPosition:c})}}}}),a.fn.simpleMagnifier=function(b){return this.each(function(){const c=a.extend({url:!1,duration:100,magnifierWidth:"150px",magnifierColor:"#fff"},b);if(0!=c.url){const b=a.simpleMagnifierCore(this,c);b.init(),a(this).on("mousemove",a=>{b.move(a)})}})}})(jQuery);